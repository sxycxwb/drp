@{
    ViewBag.Title = "克隆按钮";
    Layout = "~/Views/Shared/_Form.cshtml";
}
<script>
    var moduleId = $.request("moduleId");
    $(function () {
        var url = "/SystemManage/ModuleButton/GetCloneButtonTreeJson";

        var sid = $.request("sid");
        if (sid != "" && sid != null && typeof (sid) != undefined)
            url = url + "?sid=" + sid;

        $("#itemTree").treeview({
            showcheck: true,
            url: url
        });
    });
    function submitForm() {
        var Ids = $("#itemTree").getCheckedNodes();
        $.submitForm({
            url: "/SystemManage/ModuleButton/SubmitCloneButton",
            param: { moduleId: moduleId, Ids: String(Ids) },
            success: function () {
                top.modulebutton.$("#gridList").resetSelection();
                top.modulebutton.$("#gridList").trigger("reloadGrid");
            }
        })
    }
</script>

<div style="margin: 10px;">
    <div id="itemTree"></div>
</div>
